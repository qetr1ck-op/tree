/**
 * js-treeview - TreeView implemented with vanilla JavaScript
 * @version v1.0.0
 * @link https://github.com/justinchmura/js-treeview
 * @license MIT
 */
!function(e){"use strict";!function(t,n){"function"==typeof e&&e.amd?e(n):"object"==typeof exports?module.exports=n():t.TreeView=n()}(window,function(){return function(){function e(e,t){this.handlers={},this.node=t,this.data=e,n(this)}function t(e,t,n){var r,a=e.length;for(r=0;a>r;r+=1)t.call(n,e[r],r)}function n(e){var n,a=document.getElementById(e.node),i=[],o=function(e){var n=document.createElement("div"),r=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div");if(n.setAttribute("class","tree-leaf"),r.setAttribute("class","tree-leaf-content"),r.setAttribute("data-item",JSON.stringify(e)),a.setAttribute("class","tree-leaf-text"),a.textContent=e.name,i.setAttribute("class","tree-expando expanded"),i.textContent="-",r.appendChild(i),r.appendChild(a),n.appendChild(r),e.children.length>0){var c=document.createElement("div");c.setAttribute("class","tree-child-leaves"),t(e.children,function(e){var t=o(e);c.appendChild(t)}),n.appendChild(c)}else i.classList.add("hidden");return n};t(e.data,function(t){i.push(o.call(e,t))}),a.innerHTML=i.map(function(e){return e.outerHTML}).join(""),n=function(t){var n=(t.target||t.currentTarget).parentNode,a=JSON.parse(n.getAttribute("data-item")),i=n.parentNode.querySelector(".tree-child-leaves");i?i.classList.contains("hidden")?e.expand(n,i):e.collapse(n,i):r(e,"select",{target:t,data:a})},t(a.querySelectorAll(".tree-leaf-text"),function(e){e.onclick=n}),t(a.querySelectorAll(".tree-expando"),function(e){e.onclick=n})}function r(e,n){var r=[].slice.call(arguments,2);if(!(a.indexOf(n)>-1))throw new Error(n+" event cannot be found on TreeView.");e.handlers[n]&&e.handlers[n]instanceof Array&&t(e.handlers[n],function(e){window.setTimeout(function(){e.callback.apply(e.context,r)},0)})}var a=["expand","collapse","select"];return e.prototype.expand=function(e,t){var n=e.querySelector(".tree-expando");n.textContent="-",t.classList.remove("hidden"),r(this,"expand",{target:e,leaves:t})},e.prototype.collapse=function(e,t){var n=e.querySelector(".tree-expando");n.textContent="+",t.classList.add("hidden"),r(this,"collapse",{target:e,leaves:t})},e.prototype.on=function(e,t,n){if(!(a.indexOf(e)>-1))throw new Error(e+" is not supported by TreeView.");this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push({callback:t,context:n})},e.prototype.off=function(e,t){var n,r=!1;this.handlers[e]instanceof Array&&(this.handlers[e].forEach(function(e,a){n=a,e.callback!==t||r||(r=!0)}),r&&this.handlers[e].splice(n,1))},e}()})}(window.define);